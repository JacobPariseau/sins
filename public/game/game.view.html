<header class="game" ng-cloak>
	<md-toolbar>
		<md-tabs md-selected="vm.selectedPlayer" md-stretch-tabs md-dynamic-height>
			<md-tab id="tab_{{player.name}}" ng-repeat="player in vm.players" md-on-select="vm.hand()">
				<md-tab-label>
					{{(vm.turn == $index) ? player.name + "'S TURN" : player.name}}
				</md-tab-label>
			</md-tab>

		</md-tabs>
	</md-toolbar>
</header>

<main class="game">
	<div layout="row" layout-xs="column" ng-if="vm.startEh">
		<div class="cardarea" ng-cloak>
			<div class="large card {{vm.card.deck}}" ng-class="{'facedown': vm.facedown}" ng-click="vm.click($event)">
					<p class="primary">{{vm.card.primary}}</p>
					<p class="secondary">{{vm.card.secondary}}</p>
					<span class="type">{{vm.card.type}} CARD</span>
			</div>
		</div>
		<div class="options" ng-cloak flex>
			<md-fab-speed-dial hide-gt-xs md-open="vm.dialOpen" class="md-fling md-fab-bottom-right" md-direction="left">
				<md-fab-trigger>
			    <md-button aria-label="menu" class="mainButton md-fab md-warn">
			    </md-button>
			  </md-fab-trigger>

			  <md-fab-actions >
					<md-button ng-click="vm.smite(vm.selectedPlayer)" class="md-fab md-raised md-mini">
						Smite
					</md-button>
					<md-button ng-click="vm.showGridBottomSheet()" ng-disabled="!vm.handLength" class="md-fab md-raised md-mini">
						Hand
					</md-button>
					<md-button ng-click="vm.setTurn(vm.selectedPlayer)" ng-disabled="vm.turn == vm.selectedPlayer" class="md-fab md-raised md-mini">
						Turn
					</md-button>
				</md-fab-actions>
			</md-fab-speed-dial>

			<div layout="column"  layout-fill hide show-gt-xs>
				<div layout="row" layout-padding>
					<md-button flex ng-click="vm.setTurn(vm.selectedPlayer)" ng-disabled="vm.turn == vm.selectedPlayer" class="md-raised md-primary">
						Skip to {{vm.selectedPlayerName()}}'s turn
					</md-button>
				</div>
				<div layout="row"  layout-padding>
					<md-button flex ng-click="vm.smite(vm.selectedPlayer)" class="md-raised md-primary">
						Smite {{vm.selectedPlayerName()}}
					</md-button>
				</div>
				<div layout="row" flex layout-padding layout-margin layout-fill>
					<div class="hand" ng-cloak flex>
								<div class="mini2 card consequence hand-{{$index}}" ng-class="{'selected': vm.selectedHand == $index}" ng-repeat="card in vm.hand()" ng-click="vm.handClick(card, $index)">
										<p class="primary">{{card.primary}}</p>
										<span class="type">{{card.type}} CARD</span>
								</div>
				  </div>
				</div>
			</div>
		</div>
	</div>
</main>
